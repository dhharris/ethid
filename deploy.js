var abi_text = [{"constant":true,"inputs":[{"name":"reader","type":"address"}],"name":"giveRightToReadPost","outputs":[],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"numMessages","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"i","type":"uint256"}],"name":"getMessage","outputs":[{"name":"","type":"address"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"person","type":"address"}],"name":"isMember","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"txt","type":"string"}],"name":"newMessage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"address"}],"name":"addMember","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"poster","type":"address"}],"name":"giveRightToPost","outputs":[],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"getUnseenMessage","outputs":[{"name":"","type":"address"},{"name":"","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]

var bin_text = "6060604052341561000f57600080fd5b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060028054806001018281610063919061013e565b916000526020600020900160008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506000600460008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061018f565b81548183558181151161016557818360005260206000209182019101610164919061016a565b5b505050565b61018c91905b80821115610188576000816000905550600101610170565b5090565b90565b610d688061019e6000396000f30060606040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630493ca61146100935780630f4cf692146100cc57806386f79edb146100f5578063a230c524146101c4578063b6b9255e14610215578063ca6d56dc14610272578063d3aac844146102ab578063ea0f785f146102e4575b600080fd5b341561009e57600080fd5b6100ca600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506103a5565b005b34156100d757600080fd5b6100df6103bc565b6040518082815260200191505060405180910390f35b341561010057600080fd5b61011660048080359060200190919050506103c9565b604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b8381101561018857808201518184015260208101905061016d565b50505050905090810190601f1680156101b55780820380516001836020036101000a031916815260200191505b50935050505060405180910390f35b34156101cf57600080fd5b6101fb600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506104f8565b604051808215151515815260200191505060405180910390f35b341561022057600080fd5b610270600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505061059c565b005b341561027d57600080fd5b6102a9600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506107a9565b005b34156102b657600080fd5b6102e2600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610854565b005b34156102ef57600080fd5b6102f761086b565b604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b8381101561036957808201518184015260208101905061034e565b50505050905090810190601f1680156103965780820380516001836020036101000a031916815260200191505b50935050505060405180910390f35b6103ae816104f8565b15156103b957600080fd5b50565b6000600380549050905090565b60006103d3610aba565b60006103ff6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff166104f8565b156104f15760038481548110151561041357fe5b906000526020600020906002020190508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681600101808054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104e15780601f106104b6576101008083540402835291602001916104e1565b820191906000526020600020905b8154815290600101906020018083116104c457829003601f168201915b50505050509050925092506104f2565b5b50915091565b600080600090505b600280549050811015610591578273ffffffffffffffffffffffffffffffffffffffff1660028281548110151561053357fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156105845760019150610596565b8080600101915050610500565b600091505b50919050565b6105a4610ace565b6000829150608c82511115156107a45760646003805490501015156106c757600090505b60016064038110156106b0576003600182018154811015156105e657fe5b906000526020600020906002020160038281548110151561060357fe5b90600052602060002090600202016000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506001820181600101908054600181600116156101000203166002900461069f929190610ae2565b5090505080806001019150506105c8565b60038054809190600190036106c59190610b69565b505b600380548060010182816106db9190610b9b565b9160005260206000209060020201600060408051908101604052806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200187815250909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101908051906020019061079f929190610bcd565b505050505b505050565b600280548060010182816107bd9190610c4d565b9160005260206000209001600083909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506000600460008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555050565b61085d816104f8565b151561086857600080fd5b50565b6000610875610aba565b60006108a16000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff166104f8565b15610ab4576108ae6103bc565b600460008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414156109595760008090506040805190810160405280601281526020017f4e6f20756e7365656e206d65737361676573000000000000000000000000000081525092509250610ab5565b6003600460008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000815480929190600101919050558154811015156109d657fe5b906000526020600020906002020190508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681600101808054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610aa45780601f10610a7957610100808354040283529160200191610aa4565b820191906000526020600020905b815481529060010190602001808311610a8757829003601f168201915b5050505050905092509250610ab5565b5b509091565b602060405190810160405280600081525090565b602060405190810160405280600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610b1b5780548555610b58565b82800160010185558215610b5857600052602060002091601f016020900482015b82811115610b57578254825591600101919060010190610b3c565b5b509050610b659190610c79565b5090565b815481835581811511610b9657600202816002028360005260206000209182019101610b959190610c9e565b5b505050565b815481835581811511610bc857600202816002028360005260206000209182019101610bc79190610c9e565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610c0e57805160ff1916838001178555610c3c565b82800160010185558215610c3c579182015b82811115610c3b578251825591602001919060010190610c20565b5b509050610c499190610c79565b5090565b815481835581811511610c7457818360005260206000209182019101610c739190610c79565b5b505050565b610c9b91905b80821115610c97576000816000905550600101610c7f565b5090565b90565b610cf191905b80821115610ced57600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600182016000610ce49190610cf4565b50600201610ca4565b5090565b90565b50805460018160011615610100020316600290046000825580601f10610d1a5750610d39565b601f016020900490600052602060002090810190610d389190610c79565b5b505600a165627a7a72305820dc0c5df86517481e6b51fd85857f994ebe53dd6f6e7d99e7a46926cc86d66bd30029"

miner.start() // so the script can have a definite address
debug.verbosity(2) // 3 is default for info.
web3.eth.defaultAccount = eth.accounts[0] // set default account when calling the script.

var factory = eth.contract(abi_text)
var compiled = "0x" + bin_text

personal.unlockAccount(eth.accounts[0],"hackillinois")
var script = factory.new({from:eth.accounts[0],data:compiled,gas:470000})
